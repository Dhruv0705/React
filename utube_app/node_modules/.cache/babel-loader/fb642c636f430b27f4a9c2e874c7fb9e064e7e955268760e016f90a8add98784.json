{"ast":null,"code":"import _slicedToArray from\"C:/Users/dhruv/Documents/Virtual Studio Code/React/utube_app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{Link,useParams}from\"react-router-dom\";import ReactPlayer from\"react-player\";import{Typography,Box,Stack}from\"@mui/material\";import CheckCircleIcon from\"@mui/icons-material/CheckCircle\";import{Videos,Loader}from\"./\";import{fetchAPI}from\"../utils/fetchAPI\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var VideoDetail=function VideoDetail(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),videoDetail=_useState2[0],setVideoDetail=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),videos=_useState4[0],setVideos=_useState4[1];var _useParams=useParams(),id=_useParams.id;useEffect(function(){fetchAPI(\"videos?part=snippet,statistics&id=\".concat(id)).then(function(data){return setVideoDetail(data.items[0]);});fetchAPI(\"search?part=snippet&relatedToVideoId=\".concat(id,\"&type=video\")).then(function(data){return setVideos(data.items);});},[id]);if(!(videoDetail!==null&&videoDetail!==void 0&&videoDetail.snippet))return/*#__PURE__*/_jsx(Loader,{});var _videoDetail$snippet=videoDetail.snippet,title=_videoDetail$snippet.title,channelId=_videoDetail$snippet.channelId,channelTitle=_videoDetail$snippet.channelTitle,_videoDetail$statisti=videoDetail.statistics,viewCount=_videoDetail$statisti.viewCount,likeCount=_videoDetail$statisti.likeCount;return/*#__PURE__*/_jsx(Box,{minHeight:\"95vh\",children:/*#__PURE__*/_jsxs(Stack,{direction:{xs:\"column\",md:\"row\"},children:[/*#__PURE__*/_jsx(Box,{flex:1,children:/*#__PURE__*/_jsxs(Box,{sx:{width:\"100%\",position:\"sticky\",top:\"86px\"},children:[/*#__PURE__*/_jsx(ReactPlayer,{url:\"https://www.youtube.com/watch?v=\".concat(id),className:\"react-player\",controls:true}),/*#__PURE__*/_jsx(Typography,{color:\"#fff\",variant:\"h5\",fontWeight:\"bold\",p:2,children:title}),/*#__PURE__*/_jsxs(Stack,{direction:\"row\",justifyContent:\"space-between\",sx:{color:\"#fff\"},py:1,px:2,children:[/*#__PURE__*/_jsx(Link,{to:\"/channel/\".concat(channelId),children:/*#__PURE__*/_jsxs(Typography,{variant:{sm:\"subtitle1\",md:'h6'},color:\"#fff\",children:[channelTitle,/*#__PURE__*/_jsx(CheckCircleIcon,{sx:{fontSize:\"12px\",color:\"darkgrey\",ml:\"5px\"}})]})}),/*#__PURE__*/_jsxs(Stack,{direction:\"row\",gap:\"20px\",alignItems:\"center\",children:[/*#__PURE__*/_jsxs(Typography,{variant:\"body1\",sx:{opacity:0.7},children:[parseInt(viewCount).toLocaleString(),\" views\"]}),/*#__PURE__*/_jsxs(Typography,{variant:\"body1\",sx:{opacity:0.7},children:[parseInt(likeCount).toLocaleString(),\" likes\"]})]})]})]})}),/*#__PURE__*/_jsx(Box,{px:2,py:{md:1,xs:5},justifyContent:\"center\",alignItems:\"center\",children:/*#__PURE__*/_jsx(Videos,{videos:videos,direction:\"column\"})})]})});};export default VideoDetail;","map":{"version":3,"names":["React","useEffect","useState","Link","useParams","ReactPlayer","Typography","Box","Stack","CheckCircleIcon","Videos","Loader","fetchAPI","VideoDetail","videoDetail","setVideoDetail","videos","setVideos","id","then","data","items","snippet","title","channelId","channelTitle","statistics","viewCount","likeCount","xs","md","width","position","top","color","sm","fontSize","ml","opacity","parseInt","toLocaleString"],"sources":["C:/Users/dhruv/Documents/Virtual Studio Code/React/utube_app/src/components/VideoDetail.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Link, useParams } from \"react-router-dom\";\r\nimport ReactPlayer from \"react-player\";\r\nimport { Typography, Box, Stack } from \"@mui/material\";\r\nimport CheckCircleIcon from \"@mui/icons-material/CheckCircle\";\r\n\r\nimport { Videos, Loader } from \"./\";\r\nimport { fetchAPI } from \"../utils/fetchAPI\";\r\n\r\nconst VideoDetail = () => {\r\n  const [videoDetail, setVideoDetail] = useState(null);\r\n  const [videos, setVideos] = useState(null);\r\n  const { id } = useParams();\r\n\r\n  useEffect(() => {\r\n    fetchAPI(`videos?part=snippet,statistics&id=${id}`)\r\n      .then((data) => setVideoDetail(data.items[0]))\r\n\r\n    fetchAPI(`search?part=snippet&relatedToVideoId=${id}&type=video`)\r\n      .then((data) => setVideos(data.items))\r\n  }, [id]);\r\n\r\n  if(!videoDetail?.snippet) return <Loader />;\r\n\r\n  const { snippet: { title, channelId, channelTitle }, statistics: { viewCount, likeCount } } = videoDetail;\r\n\r\n  return (\r\n    <Box minHeight=\"95vh\">\r\n      <Stack direction={{ xs: \"column\", md: \"row\" }}>\r\n        <Box flex={1}>\r\n          <Box sx={{ width: \"100%\", position: \"sticky\", top: \"86px\" }}>\r\n            <ReactPlayer url={`https://www.youtube.com/watch?v=${id}`} className=\"react-player\" controls />\r\n            <Typography color=\"#fff\" variant=\"h5\" fontWeight=\"bold\" p={2}>\r\n              {title}\r\n            </Typography>\r\n            <Stack direction=\"row\" justifyContent=\"space-between\" sx={{ color: \"#fff\" }} py={1} px={2} >\r\n              <Link to={`/channel/${channelId}`}>\r\n                <Typography variant={{ sm: \"subtitle1\", md: 'h6' }}  color=\"#fff\" >\r\n                  {channelTitle}\r\n                  <CheckCircleIcon sx={{ fontSize: \"12px\", color: \"darkgrey\", ml: \"5px\" }} />\r\n                </Typography>\r\n              </Link>\r\n              <Stack direction=\"row\" gap=\"20px\" alignItems=\"center\">\r\n                <Typography variant=\"body1\" sx={{ opacity: 0.7 }}>\r\n                  {parseInt(viewCount).toLocaleString()} views\r\n                </Typography>\r\n                <Typography variant=\"body1\" sx={{ opacity: 0.7 }}>\r\n                  {parseInt(likeCount).toLocaleString()} likes\r\n                </Typography>\r\n              </Stack>\r\n            </Stack>\r\n          </Box>\r\n        </Box>\r\n        <Box px={2} py={{ md: 1, xs: 5 }} justifyContent=\"center\" alignItems=\"center\" >\r\n          <Videos videos={videos} direction=\"column\" />\r\n        </Box>\r\n      </Stack>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default VideoDetail;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}